<!DOCTYPE html>
<html lang="ja">
<head>
    

    




    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>もうYouTubeにMP4でアップロードするのやめません？ | しらぎのLogger</title>

    <meta name="description" content="  「動画の画質や音質なんて別に気にしてないよ」という方を対象にはしていません。今でも、YouTubeで活動されている多くの日本人は、MP4でアップロードされている動画が多いです。しかし、すでに海外では、WebMという形式など、MP4以外のほかの形式でアップロードしている方が多く見受けられます。だから、日本人もW...">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="https://shiragicord.github.io/200905/ytcodecs/">
    <link rel="alternate" type="application/atom+xml" title="しらぎのLogger" href="/feed.xml" />

    

    <meta property="og:title" content="もうYouTubeにMP4でアップロードするのやめません？ | しらぎのLogger" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="//ttskch.github.io/jekyll-ttskch-theme/assets/img/ogp.png" />
    <meta property="og:url" content="https://shiragicord.github.io/200905/ytcodecs/" />
    <meta property="og:site_name" content="しらぎのLogger" />
    <meta property="fb:admins" content="" />
    <meta property="fb:app_id" content="" />
    <meta property="og:description" content="  「動画の画質や音質なんて別に気にしてないよ」という方を対象にはしていません。今でも、YouTubeで活動されている多くの日本人は、MP4でアップロードされている動画が多いです。しかし、すでに海外では、WebMという形式など、MP4以外のほかの形式でアップロードしている方が多く見受けられます。だから、日本人もW..." />

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://use.fontawesome.com/1f5f360d80.js"></script>
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet">

    <link href="/assets/css/style.css" rel="stylesheet">
</head>
<body>

<header class="site-header">
    <div class="inner clearfix">
        
        <a href="/">
            <img class="avatar" src="/assets/img/avatar.jpg" alt=""/>
        </a>
        
        <h1 class="clearfix">
            <a class="title " href="/">しらぎのLogger</a>
            <!--<br><span class="description"></span>-->
        </h1>
    </div>
</header>

<div class="site-container">
    <div class="site-content">
        <div class="article-wrapper">
    <article>
        

<header>
    <div class="panel">
        <h1>
            
            もうYouTubeにMP4でアップロードするのやめません？
            
        </h1>

        <ul class="tags">
            
            
            <li><i class="fa fa-tags"></i></li>
            
            
            <li>
                <a class="tag" href="/search/?t=YouTube">#YouTube</a>
            </li>
            
            <li>
                <a class="tag" href="/search/?t=ファイル拡張子">#ファイル拡張子</a>
            </li>
            
            <li>
                <a class="tag" href="/search/?t=ファイルフォーマット">#ファイルフォーマット</a>
            </li>
            
        </ul>

        <div class="clearfix">
            <ul class="meta">
                
                <li>
                    <i class="fa fa-calendar"></i>
                    2020-09-05
                </li>
                

                
            </ul>
        </div>
    </div>

    
    <div style="margin-top: 1em;">
        




<div class="clearfix">
    <div style="float: right !important;">
        
        
        
    </div>
</div>

    </div>
    

    
</header>

        <section class="post-content">
            <blockquote>
  <p>「動画の画質や音質なんて別に気にしてないよ」という方を対象にはしていません。</p>
</blockquote>

<p>今でも、YouTubeで活動されている多くの日本人は、MP4でアップロードされている動画が多いです。</p>

<p>しかし、すでに海外では、<strong>WebM</strong>という形式など、MP4以外のほかの形式でアップロードしている方が多く見受けられます。</p>

<p>だから、日本人も<strong>WebMでアップロードしよう！</strong></p>

<p>といってもあれなので、WebMにするとどんなメリットがあるかを紹介します。</p>

<h2 id="youtubeはvp9で動画を再生している">YouTubeは、VP9で動画を再生している。</h2>
<p>MP4では、<strong>h264</strong>という形式で動画がエンコードされているのが多いのに対し、WebMは、<strong>VP9</strong>という動画でエンコードされているものがあります。</p>

<p>で、<strong>VP9とは何なのか？</strong></p>

<p>簡単に言うと、<strong>h264</strong>よりも、<strong>少ない容量</strong>で、<strong>高画質な動画</strong>を再生できる<strong>ビデオコーデック</strong>というものです。 <br />
(ブログ主の調査では、とある動画をエンコードしたとき、h264が<strong>166MB</strong>だったのに対し、VP9は<strong>109MB</strong>だった。)</p>

<p>よく<strong>h264</strong>動画で指摘されてい<strong>ブロックノイズ問題</strong>も、<strong>VP9</strong>では、それを同じ容量(ビットレート)でも<strong>軽減が期待できます</strong>。</p>

<p>ということは、動画を作る側も、<strong>VP9でアップロードすれば</strong>、より高画質な動画を期待できるようになります。</p>

<p>YouTube側も、VP9のアップロード、再生に対応していて、最近では、ほとんどの動画がVP9で再生されるようになっています。</p>

<div style="padding: 10px; margin-bottom: 10px; border: 1px solid #000000;">
<img src="/200905/ytcodecs/vp9-opus.png" /><br />
<strong>VP9</strong>、<strong>Opus</strong>を使用していると表示されているYouTubeの詳細統計情報
</div>

<p>ただし、対応ブラウザではないと見れないので、例えば、</p>
<ul>
  <li>Internet Explorer (Windows)</li>
  <li>Safari (macOS X)</li>
</ul>

<p>は<strong>VP9</strong>非対応です。<br />
(これらのブラウザでは、<strong>h264</strong>で再生されます。)</p>

<p><strong>VP9</strong>で視聴するには、</p>
<ul>
  <li>Google Chrome</li>
  <li>FireFox</li>
  <li>Microsoft Edge (EdgeHTML / Chromium)</li>
  <li>その他 Chromiumベースブラウザ (Opera, Vivaldi等)</li>
</ul>

<p>等で見る必要があります。</p>

<p>いずれのブラウザもWindows, Mac共に対応、<br />
Edge以外のブラウザはLinuxにも対応しています。<br />
(OS自体が動画再生の要件を満たす必要があります。)</p>

<h2 id="youtubeの音質はもう悪くない">YouTubeの音質は、もう悪くない！</h2>
<p>MP4では、<strong>AAC</strong>という音声コーデックが使用されてきました。</p>

<p>AACはMP3に比べ、比較的少ない容量でも高音質が期待できましたが、やはりCDに比べ、<strong>数値的には</strong>劣れていました。</p>

<p>以前はYouTube側も、最高音質<strong>AAC 192kbps</strong>で再生されていました。</p>

<p>(しかし、これでも音質的にはあまり違和感を感じなかった方が多いと思います。)</p>

<p>しかし、現在では<strong>Opus</strong>という形式で再生されています。</p>

<p>YouTube側で再生されている、<strong>Opus (128kbps VBR)</strong>は、ほとんどCDと聞き分けができないとされています。(下手するとハイレゾと聞き比べてもわからないほど。)</p>

<p>具体的な数値でいうと、</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">コーデック</th>
      <th style="text-align: right">ビットレート</th>
      <th style="text-align: right">カットオフ周波数</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">AAC</td>
      <td style="text-align: right">128 kbps</td>
      <td style="text-align: right">15.8 kHz</td>
    </tr>
    <tr>
      <td style="text-align: left">Opus</td>
      <td style="text-align: right">128 kbps VBR</td>
      <td style="text-align: right">20.0 kHz</td>
    </tr>
  </tbody>
</table>

<p>と、Opusの音質が圧倒的であることがわかります。<br />
(カットオフ周波数が、音質のすべてではありません。)<br />
(YouTubeで再生されているAACは、上の表のAACとカットオフ周波数が異なる可能性があります。)</p>

<p>つまり、YouTubeの音質は、低い容量でも、<strong>人間の耳では聞き分けがかなり難しい</strong>ほど品質が良くなりました。</p>
<div style="padding: 10px; margin-bottom: 10px; border: 1px solid #000000;">
<img src="/200905/ytcodecs/spectram.jpg" /><br />
YouTubeでOpus形式の動画を再生したときのスペクトラム画像<br />
20.0kHzでカットされている。
</div>

<p>そのため、<strong>AAC 320kbps</strong>や<strong>Opus</strong>、<strong>PCM</strong>や<strong>FLAC</strong>でアップロードすれば、充分な音質が期待できます。</p>

<p>音質を特に気にしないでアップロードするなら、WebMのOpusで十分ですし、</p>

<p>音質重視なら、ロスレスFLACや、PCMで<strong>MKV</strong>に直接埋め込むことで、再エンコード回数を１回にすることができます。</p>

<p>ただし、Opusを再生するにも、対応ブラウザが必要で、</p>

<p>対応ブラウザ</p>

<ul>
  <li>Google Chrome</li>
  <li>FireFox</li>
  <li>Microsoft Edge (EdgeHTML / Chromium)</li>
  <li>その他 Chromiumベースブラウザ (Opera, Vivaldi等)</li>
</ul>

<p>非対応ブラウザ (AACで再生)</p>

<ul>
  <li>Internet Explorer (Windows)</li>
  <li>Safari (macOS X)</li>
</ul>

<p>となっております。</p>

<h1 id="youtubeは再エンコードしている">YouTubeは再エンコードしている</h1>
<p>YouTubeに動画をアップロードするためには、動画を編集ソフトで書き出し(エンコード)を行う必要があります。しかし、YouTubeにアップロードされた動画は、YouTube側でも再書き出し(再エンコード)が行われます。</p>

<p>そのため、アップロードされた動画がそのままの品質で再生されることはありません。</p>

<p>しかも、MP4でアップロードされた動画も、YouTube側でWebMで再エンコードが行われるのですが、<strong>元(MP4)の品質が悪い</strong>と、いくらWebM(VP9, Opus)でも<strong>元の品質よりよくなる</strong>ことはありません。</p>

<p>ということは、品質を気にするなら再エンコードされる形式よりも<strong>いいもので</strong>アップロードする必要があります。</p>

<p>しかし、そのためにMP4の動画容量(ビットレート)を上げるのは、<strong>あまり効率的ではありません</strong>。</p>

<p>その代わりに、十分な品質ののWebM(VP9, Opus)にすれば、アップロード時の容量が<strong>MP4より小さく</strong>、そしてYouTube側で<strong>きれいな動画</strong>を再生できることが期待できます。</p>

<h2 id="実はvp9ももう古い">実はVP9ももう古い？</h2>

<p>先ほど、<strong>VP9でアップロードすることで、より高画質な動画を期待できる</strong>と述べましたが、</p>

<p>実は、YouTubeは新たなビデオコーデックへの対応が進んでいます。</p>

<p>それは、 <strong><del>h265 (HEVC)</del></strong> ではなく、</p>

<p>現在急上昇中の<strong>AV1</strong>というものです。</p>

<div style="padding: 10px; margin-bottom: 10px; border: 1px solid #000000;">
<img src="/200905/ytcodecs/av1.png" /><br />
AV1と表示されているYouTubeの詳細統計情報<br />
日本でも上位のYouTubeクリエイターでこのコーデックを再生できることが多い<br />
(ただし、元がMP4なのでそこまで期待できないが)
</div>

<p>AV1は、多くの企業に支持されている新しいコーデックで、すでにYouTubeの他にも、Netflixが対応しています。</p>

<p>AV1は、h265 (HEVC)やVP9に比べ、さらに<strong>圧縮率が向上</strong>していて、次の動画コーデックの<strong>実質標準規格になる</strong>とも噂されています。</p>

<p>ただし、まだAV1はエンコードに<strong>大変時間がかかり</strong>、個人用途としては少し微妙です。</p>

<p>(ブログ主の調査では、ffmpegでエンコードしたとき、AV1はVP9に比べて<strong>10倍遅い</strong>。)</p>

<h2 id="まとめ">まとめ</h2>
<p>MP4は、今では同じ容量でも<strong>画質が悪い</strong>、<strong>音も悪い</strong>とメリットがないので、</p>

<p>これからYouTubeに動画をアップロードするときは、<strong>WebM</strong>の<strong>VP9</strong>、<strong>Opus</strong>でアップロードしましょう。</p>

<p>同じ画質、音質でも動画ファイルの容量が<strong>小さくなること</strong>が期待できます。</p>

<p>なお、WebM形式で出力するのには、</p>

<p>Adobe Premiere Proは追加のプラグインが必要です。</p>

<p>AviUtlも別のプラグインが必要です。<br />
ただし、AviUtlのプラグインは今のところGUIでWebMを細かく調整できるプラグインは作られていません。<br />
(ただし、CUIならある。)</p>

<p>ffmpegは、VP9, AV1, Opusともにデコード、エンコードがサポートされています。</p>

<p>なお、個人的におすすめな設定も載せておきます。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">解像度</th>
      <th style="text-align: right">フレーム数</th>
      <th style="text-align: center">映像コーデック</th>
      <th style="text-align: right">映像ビットレート</th>
      <th style="text-align: center">音声コーデック</th>
      <th style="text-align: right">音声ビットレート</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1280x720</td>
      <td style="text-align: right">30 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">5 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">1280x720</td>
      <td style="text-align: right">60 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">5 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">1920x1080</td>
      <td style="text-align: right">30 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">10 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">1920x1080</td>
      <td style="text-align: right">60 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">10 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">2560x1440</td>
      <td style="text-align: right">30 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">20 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">2560x1440</td>
      <td style="text-align: right">60 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">20 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">3840x2160</td>
      <td style="text-align: right">30 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">40 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
    <tr>
      <td style="text-align: center">3840x2160</td>
      <td style="text-align: right">60 FPS</td>
      <td style="text-align: center">VP9</td>
      <td style="text-align: right">40 Mbps</td>
      <td style="text-align: center">Opus</td>
      <td style="text-align: right">128kbps VBR</td>
    </tr>
  </tbody>
</table>

        </section>
        <footer>
    
    




<div class="clearfix">
    <div style="float: right !important;">
        
        
        
    </div>
</div>

    
</footer>

    </article>
</div>



    </div>

    <aside class="site-aside">
        <div class="inner">
            <div class="block">
                <form action="/search">
                    <input type="search" id="search" name="q" placeholder="検索" />
                </form>
            </div>
            <ul>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li><a class="page-link" href="/archives/">記事一覧</a></li>
                
                
                
                <li><a class="page-link" href="/tags/">タグ</a></li>
                
                
                
                <li><a class="page-link" href="/about/">このブログについて</a></li>
                
                
                
                <li><a class="page-link" href="/about/issue/">ご意見、ご指摘について</a></li>
                
                
            </ul>
            <ul class="icons">
                


<li>
    <a href="/feed.xml">
        <i class="fa fa-fw fa-rss"></i>
    </a>
</li>





<li>
    <a href="https://github.com/shiragicord">
        <i class="fa fa-fw fa-github"></i>
    </a>
</li>





<li>
    <a href="https://twitter.com/shiragicord">
        <i class="fa fa-fw fa-twitter"></i>
    </a>
</li>
































            </ul>
            <hr class="with-no-margin margin-bottom"/>

            <div class="block sticky">
                <h2>最新記事</h2>
                <ul>
                    
                    
                    
                    
                    <li><a href="/200905/ytcodecs/">もうYouTubeにMP4でアップロードするのやめません？</a></li>
                    
                    <li><a href="/200830/sl/">WindowsでSLを走らせたい</a></li>
                    
                    <li><a href="/200823/hello/">Hello, World</a></li>
                    
                </ul>
            </div>
        </div>
    </aside>
</div>

<footer class="site-footer">
    <div class="inner">
        <span>Powered by <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://jekyllrb.com">Jekyll</a> with <a href="https://github.com/ttskch/jekyll-ttskch-theme">TtskchTheme</a></span>
    </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/assets/lib/garand-sticky/jquery.sticky.js"></script>
<script src="/assets/js/script.js"></script>


<script src="/assets/js/header-link.js"></script>




<!-- Init Facebook SDK -->


<!-- Google Analytics -->



</body>
</html>
